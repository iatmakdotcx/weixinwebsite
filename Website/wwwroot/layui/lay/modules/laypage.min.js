/**
 
 @Name : layui.laypage 分页组件
 @Author：贤心
 @License：MIT
 
 */
layui.define(function(n){"use strict";var u=document,f="getElementById",r="getElementsByTagName",e="layui-disabled",i=function(n){var i=this;i.config=n||{};i.config.index=++t.index;i.render(!0)},t;i.prototype.type=function(){var n=this.config;if(typeof n.elem=="object")return n.elem.length===undefined?2:3};i.prototype.view=function(){var u=this,n=u.config,t=n.groups="groups"in n?n.groups|0:5,i,r;return n.layout=typeof n.layout=="object"?n.layout:["prev","page","next"],n.count=n.count|0,n.curr=n.curr|0||1,n.limits=typeof n.limits=="object"?n.limits:[10,20,30,40,50],n.limit=n.limit|0||10,n.pages=Math.ceil(n.count/n.limit)||1,n.curr>n.pages&&(n.curr=n.pages),t<0?t=1:t>n.pages&&(t=n.pages),n.prev="prev"in n?n.prev:"&#x4E0A;&#x4E00;&#x9875;",n.next="next"in n?n.next:"&#x4E0B;&#x4E00;&#x9875;",i=n.pages>t?Math.ceil((n.curr+(t>1?1:0))/(t>0?t:1)):1,r={prev:function(){return n.prev?'<a href="javascript:;" class="layui-laypage-prev'+(n.curr==1?" "+e:"")+'" data-page="'+(n.curr-1)+'">'+n.prev+"<\/a>":""}(),page:function(){var u=[];if(n.count<1)return"";i>1&&n.first!==!1&&t!==0&&u.push('<a href="javascript:;" class="layui-laypage-first" data-page="1"  title="&#x9996;&#x9875;">'+(n.first||1)+"<\/a>");var e=Math.floor((t-1)/2),r=i>1?n.curr-e:1,f=i>1?function(){var i=n.curr+(t-e-1);return i>n.pages?n.pages:i}():t;for(f-r<t-1&&(r=f-t+1),n.first!==!1&&r>2&&u.push('<span class="layui-laypage-spr">&#x2026;<\/span>');r<=f;r++)r===n.curr?u.push('<span class="layui-laypage-curr"><em class="layui-laypage-em" '+(/^#/.test(n.theme)?'style="background-color:'+n.theme+';"':"")+"><\/em><em>"+r+"<\/em><\/span>"):u.push('<a href="javascript:;" data-page="'+r+'">'+r+"<\/a>");return n.pages>t&&n.pages>f&&n.last!==!1&&(f+1<n.pages&&u.push('<span class="layui-laypage-spr">&#x2026;<\/span>'),t!==0&&u.push('<a href="javascript:;" class="layui-laypage-last" title="&#x5C3E;&#x9875;"  data-page="'+n.pages+'">'+(n.last||n.pages)+"<\/a>")),u.join("")}(),next:function(){return n.next?'<a href="javascript:;" class="layui-laypage-next'+(n.curr==n.pages?" "+e:"")+'" data-page="'+(n.curr+1)+'">'+n.next+"<\/a>":""}(),count:'<span class="layui-laypage-count">共 '+n.count+" 条<\/span>",limit:function(){var t=['<span class="layui-laypage-limits"><select lay-ignore>'];return layui.each(n.limits,function(i,r){t.push('<option value="'+r+'"'+(r===n.limit?"selected":"")+">"+r+" 条/页<\/option>")}),t.join("")+"<\/select><\/span>"}(),refresh:['<a href="javascript:;" data-page="'+n.curr+'" class="layui-laypage-refresh">','<i class="layui-icon layui-icon-refresh"><\/i>',"<\/a>"].join(""),skip:function(){return['<span class="layui-laypage-skip">&#x5230;&#x7B2C;','<input type="text" min="1" value="'+n.curr+'" class="layui-input">','&#x9875;<button type="button" class="layui-laypage-btn">&#x786e;&#x5b9a;<\/button>',"<\/span>"].join("")}()},['<div class="layui-box layui-laypage layui-laypage-'+(n.theme?/^#/.test(n.theme)?"molv":n.theme:"default")+'" id="layui-laypage-'+n.index+'">',function(){var t=[];return layui.each(n.layout,function(n,i){r[i]&&t.push(r[i])}),t.join("")}(),"<\/div>"].join("")};i.prototype.jump=function(n,i){var f,l;if(n){var e=this,u=e.config,o=n.children,s=n[r]("button")[0],a=n[r]("input")[0],h=n[r]("select")[0],c=function(){var n=a.value.replace(/\s|\D/g,"")|0;n&&(u.curr=n,e.render())};if(i)return c();for(f=0,l=o.length;f<l;f++)if(o[f].nodeName.toLowerCase()==="a")t.on(o[f],"click",function(){var n=this.getAttribute("data-page")|0;n<1||n>u.pages||(u.curr=n,e.render())});if(h)t.on(h,"change",function(){var n=this.value;u.curr*n>u.count&&(u.curr=Math.ceil(u.count/n));u.limit=n;e.render()});if(s)t.on(s,"click",function(){c()})}};i.prototype.skip=function(n){if(n){var u=this,i=n[r]("input")[0];if(i)t.on(i,"keyup",function(t){var i=this.value,r=t.keyCode;/^(37|38|39|40)$/.test(r)||(/\D/.test(i)&&(this.value=i.replace(/\D/,"")),r===13&&u.jump(n,!0))})}};i.prototype.render=function(n){var i=this,t=i.config,o=i.type(),r=i.view(),e;o===2?t.elem&&(t.elem.innerHTML=r):o===3?t.elem.html(r):u[f](t.elem)&&(u[f](t.elem).innerHTML=r);t.jump&&t.jump(t,n);e=u[f]("layui-laypage-"+t.index);i.jump(e);t.hash&&!n&&(location.hash="!"+t.hash+"="+t.curr);i.skip(e)};t={render:function(n){var t=new i(n);return t.index},index:layui.laypage?layui.laypage.index+1e4:0,on:function(n,t,i){return n.attachEvent?n.attachEvent("on"+t,function(t){t.target=t.srcElement;i.call(n,t)}):n.addEventListener(t,i,!1),this}};n("laypage",t)});