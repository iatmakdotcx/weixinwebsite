/**
 @Name：layui.util 工具集
 @Author：贤心
 @License：MIT
    
*/
layui.define("jquery",function(n){"use strict";var t=layui.$,i={fixbar:function(n){var f="layui-fixbar",e="layui-fixbar-top",o=t(document),l=t("body"),i,s;n=t.extend({showHeight:200},n);n.bar1=n.bar1===!0?"&#xe606;":n.bar1;n.bar2=n.bar2===!0?"&#xe607;":n.bar2;n.bgcolor=n.bgcolor?"background-color:"+n.bgcolor:"";var u=[n.bar1,n.bar2,"&#xe604;"],r=t(['<ul class="'+f+'">',n.bar1?'<li class="layui-icon" lay-type="bar1" style="'+n.bgcolor+'">'+u[0]+"<\/li>":"",n.bar2?'<li class="layui-icon" lay-type="bar2" style="'+n.bgcolor+'">'+u[1]+"<\/li>":"",'<li class="layui-icon '+e+'" lay-type="top" style="'+n.bgcolor+'">'+u[2]+"<\/li>","<\/ul>"].join("")),h=r.find("."+e),c=function(){var t=o.scrollTop();t>=n.showHeight?i||(h.show(),i=1):i&&(h.hide(),i=0)};if(!t("."+f)[0]){typeof n.css=="object"&&r.css(n.css);l.append(r);c();r.find("li").on("click",function(){var r=t(this),i=r.attr("lay-type");i==="top"&&t("html,body").animate({scrollTop:0},200);n.click&&n.click.call(this,i)});o.on("scroll",function(){clearTimeout(s);s=setTimeout(function(){c()},100)})}},countdown:function(n,t,i){var o=this,f=typeof t=="function",s=new Date(n).getTime(),e=new Date(!t||f?(new Date).getTime():t).getTime(),r=s-e,h=[Math.floor(r/864e5),Math.floor(r/36e5)%24,Math.floor(r/6e4)%60,Math.floor(r/1e3)%60],u;return f&&(i=t),u=setTimeout(function(){o.countdown(n,e+1e3,i)},1e3),i&&i(r>0?h:[0,0,0,0],t,u),r<=0&&clearTimeout(u),u},timeAgo:function(n,t){var u=this,r=[[],[]],i=(new Date).getTime()-new Date(n).getTime();return i>6912e5?(i=new Date(n),r[0][0]=u.digit(i.getFullYear(),4),r[0][1]=u.digit(i.getMonth()+1),r[0][2]=u.digit(i.getDate()),t||(r[1][0]=u.digit(i.getHours()),r[1][1]=u.digit(i.getMinutes()),r[1][2]=u.digit(i.getSeconds())),r[0].join("-")+" "+r[1].join(":")):i>=864e5?(i/864e5|0)+"天前":i>=36e5?(i/36e5|0)+"小时前":i>=12e4?(i/6e4|0)+"分钟前":i<0?"未来":"刚刚"},digit:function(n,t){var r="",i;for(n=String(n),t=t||2,i=n.length;i<t;i++)r+="0";return n<Math.pow(10,t)?r+(n|0):n},toDateString:function(n,t){var i=this,r=new Date(n||new Date),u=[i.digit(r.getFullYear(),4),i.digit(r.getMonth()+1),i.digit(r.getDate())],f=[i.digit(r.getHours()),i.digit(r.getMinutes()),i.digit(r.getSeconds())];return t=t||"yyyy-MM-dd HH:mm:ss",t.replace(/yyyy/g,u[0]).replace(/MM/g,u[1]).replace(/dd/g,u[2]).replace(/HH/g,f[0]).replace(/mm/g,f[1]).replace(/ss/g,f[2])},escape:function(n){return String(n||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")}};!function(n,t,i){function h(){c=t[f](function(){r.each(function(){var i=n(this),r=i.width(),u=i.height(),t=n.data(this,e);(r!==t.w||u!==t.h)&&i.trigger(s,[t.w=r,t.h=u])});h()},u[l])}var c,r=n([]),u=n.resize=n.extend(n.resize,{}),f="setTimeout",s="resize",e=s+"-special-event",l="delay",o="throttleWindow";u[l]=250;u[o]=!0;n.event.special[s]={setup:function(){if(!u[o]&&this[f])return!1;var t=n(this);r=r.add(t);n.data(this,e,{w:t.width(),h:t.height()});1===r.length&&h()},teardown:function(){if(!u[o]&&this[f])return!1;var t=n(this);r=r.not(t);t.removeData(e);r.length||clearTimeout(c)},add:function(t){function s(t,u,f){var o=n(this),s=n.data(this,e)||{};s.w=u!==i?u:o.width();s.h=f!==i?f:o.height();r.apply(this,arguments)}if(!u[o]&&this[f])return!1;var r;return n.isFunction(t)?(r=t,s):(r=t.handler,t.handler=s,void 0)}}}(t,window);n("util",i)});