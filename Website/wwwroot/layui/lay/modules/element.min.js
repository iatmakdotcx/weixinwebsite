/**
 @Name：layui.element 常用元素操作
 @Author：贤心
 @License：MIT
    
 */
layui.define("jquery",function(n){"use strict";var t=layui.$,k=layui.hint(),l=layui.device(),f="element",e="layui-this",u="layui-show",r=function(){this.config={}},v,c,b;r.prototype.set=function(n){var i=this;return t.extend(!0,i.config,n),i};r.prototype.on=function(n,t){return layui.onevent.call(this,f,n,t)};r.prototype.tabAdd=function(n,r){var u=t(".layui-tab[lay-filter="+n+"]"),f=u.children(".layui-tab-title"),e=f.children(".layui-tab-bar"),s=u.children(".layui-tab-content"),o='<li lay-id="'+(r.id||"")+'"'+(r.attr?' lay-attr="'+r.attr+'"':"")+">"+(r.title||"unnaming")+"<\/li>";return e[0]?e.before(o):f.append(o),s.append('<div class="layui-tab-item">'+(r.content||"")+"<\/div>"),i.hideTabMore(!0),i.tabAuto(),this};r.prototype.tabDelete=function(n,r){var u=t(".layui-tab[lay-filter="+n+"]"),f=u.children(".layui-tab-title"),e=f.find('>li[lay-id="'+r+'"]');return i.tabDelete(null,e),this};r.prototype.tabChange=function(n,r){var f=t(".layui-tab[lay-filter="+n+"]"),e=f.children(".layui-tab-title"),u=e.find('>li[lay-id="'+r+'"]');return i.tabClick.call(u[0],null,null,u),this};r.prototype.tab=function(n){n=n||{};c.on("click",n.headerElem,function(r){var u=t(this).index();i.tabClick.call(this,r,u,null,n)})};r.prototype.progress=function(n,i){var r="layui-progress",f=t("."+r+"[lay-filter="+n+"]"),u=f.find("."+r+"-bar"),e=u.find("."+r+"-text");return u.css("width",i),e.text(i),this};var y=".layui-nav",a="layui-nav-item",p="layui-nav-bar",s="layui-nav-tree",h="layui-nav-child",o="layui-nav-more",w="layui-anim layui-anim-upbit",i={tabClick:function(n,i,r,o){o=o||{};var s=r||t(this),i=i||s.parent().children("li").index(s),h=o.headerElem?s.parent():s.parents(".layui-tab").eq(0),l=o.bodyElem?t(o.bodyElem):h.children(".layui-tab-content").children(".layui-tab-item"),c=s.find("a"),a=h.attr("lay-filter");c.attr("href")!=="javascript:;"&&c.attr("target")==="_blank"||(s.addClass(e).siblings().removeClass(e),l.eq(i).addClass(u).siblings().removeClass(u));layui.event.call(this,f,"tab("+a+")",{elem:h,index:i})},tabDelete:function(n,r){var u=r||t(this).parent(),o=u.index(),s=u.parents(".layui-tab").eq(0),h=s.children(".layui-tab-content").children(".layui-tab-item"),c=s.attr("lay-filter");u.hasClass(e)&&(u.next()[0]?i.tabClick.call(u.next()[0],null,o+1):u.prev()[0]&&i.tabClick.call(u.prev()[0],null,o-1));u.remove();h.eq(o).remove();setTimeout(function(){i.tabAuto()},50);layui.event.call(this,f,"tabDelete("+c+")",{elem:s,index:o})},tabAuto:function(){var u="layui-tab-more",n="layui-tab-bar",r="layui-tab-close",f=this;t(".layui-tab").each(function(){var o=t(this),e=o.children(".layui-tab-title"),c=o.children(".layui-tab-content").children(".layui-tab-item"),s='lay-stope="tabmore"',h=t('<span class="layui-unselect layui-tab-bar" '+s+"><i "+s+' class="layui-icon">&#xe61a;<\/i><\/span>');if(f===window&&l.ie!=8&&i.hideTabMore(!0),o.attr("lay-allowClose")&&e.find("li").each(function(){var u=t(this),n;if(!u.find("."+r)[0]){n=t('<i class="layui-icon layui-unselect '+r+'">&#x1006;<\/i>');n.on("click",i.tabDelete);u.append(n)}}),typeof o.attr("lay-unauto")!="string")if(e.prop("scrollWidth")>e.outerWidth()+1){if(e.find("."+n)[0])return;e.append(h);o.attr("overflow","");h.on("click",function(){e[this.title?"removeClass":"addClass"](u);this.title=this.title?"":"收缩"})}else e.find("."+n).remove(),o.removeAttr("overflow")})},hideTabMore:function(n){var i=t(".layui-tab-title");(n===!0||t(n.target).attr("lay-stope")!=="tabmore")&&(i.removeClass("layui-tab-more"),i.find(".layui-tab-bar").attr("title",""))},clickThis:function(){var n=t(this),i=n.parents(y),o=i.attr("lay-filter"),r=n.parent(),u=n.siblings("."+h),c=typeof r.attr("lay-unselect")=="string";n.attr("href")!=="javascript:;"&&n.attr("target")==="_blank"||c||u[0]||(i.find("."+e).removeClass(e),r.addClass(e));i.hasClass(s)&&(u.removeClass(w),u[0]&&(r[u.css("display")==="none"?"addClass":"removeClass"](a+"ed"),i.attr("lay-shrink")==="all"&&r.siblings().removeClass(a+"ed")));layui.event.call(this,f,"nav("+o+")",n)},collapse:function(){var n=t(this),s=n.find(".layui-colla-icon"),i=n.siblings(".layui-colla-content"),r=n.parents(".layui-collapse").eq(0),h=r.attr("lay-filter"),e=i.css("display")==="none",o;typeof r.attr("lay-accordion")=="string"&&(o=r.children(".layui-colla-item").children("."+u),o.siblings(".layui-colla-title").children(".layui-colla-icon").html("&#xe602;"),o.removeClass(u));i[e?"addClass":"removeClass"](u);s.html(e?"&#xe61a;":"&#xe602;");layui.event.call(this,f,"collapse("+h+")",{title:n,content:i,show:e})}};r.prototype.init=function(n,r){var c=this,f=function(){return r?'[lay-filter="'+r+'"]':""}(),e={tab:function(){i.tabAuto.call({})},nav:function(){var r=200,e={},n={},c={},v=function(i,f,a){var v=t(this),y=v.find("."+h);f.hasClass(s)?i.css({top:v.position().top,height:v.children("a").outerHeight(),opacity:1}):(y.addClass(w),i.css({left:v.position().left+parseFloat(v.css("marginLeft")),top:v.position().top+v.height()-i.height()}),e[a]=setTimeout(function(){i.css({width:v.width(),opacity:1})},l.ie&&l.ie<10?0:r),clearTimeout(c[a]),y.css("display")==="block"&&clearTimeout(n[a]),n[a]=setTimeout(function(){y.addClass(u);v.find("."+o).addClass(o+"d")},300))};t(y+f).each(function(f){var l=t(this),y=t('<span class="'+p+'"><\/span>'),w=l.find("."+a);if(!l.find("."+p)[0]){l.append(y);w.on("mouseenter",function(){v.call(this,y,l,f)}).on("mouseleave",function(){l.hasClass(s)||(clearTimeout(n[f]),n[f]=setTimeout(function(){l.find("."+h).removeClass(u);l.find("."+o).removeClass(o+"d")},300))});l.on("mouseleave",function(){clearTimeout(e[f]);c[f]=setTimeout(function(){l.hasClass(s)?y.css({height:0,top:y.position().top+y.height()/2,opacity:0}):y.css({width:0,left:y.position().left+y.width()/2,opacity:0})},r)})}w.find("a").each(function(){var n=t(this),u=n.parent(),r=n.siblings("."+h);r[0]&&!n.children("."+o)[0]&&n.append('<span class="'+o+'"><\/span>');n.off("click",i.clickThis).on("click",i.clickThis)})})},breadcrumb:function(){t(".layui-breadcrumb"+f).each(function(){var n=t(this),i="lay-separator",u=n.attr(i)||"/",r=n.find("a");r.next("span["+i+"]")[0]||(r.each(function(n){n!==r.length-1&&t(this).after("<span "+i+">"+u+"<\/span>")}),n.css("visibility","visible"))})},progress:function(){var n="layui-progress";t("."+n+f).each(function(){var u=t(this),r=u.find(".layui-progress-bar"),i=r.attr("lay-percent");r.css("width",function(){return/^.+\/.+$/.test(i)?new Function("return "+i)()*100+"%":i}());u.attr("lay-showPercent")&&setTimeout(function(){r.html('<span class="'+n+'-text">'+i+"<\/span>")},350)})},collapse:function(){t(".layui-collapse"+f).each(function(){var n=t(this).find(".layui-colla-item");n.each(function(){var r=t(this),n=r.find(".layui-colla-title"),u=r.find(".layui-colla-content"),f=u.css("display")==="none";n.find(".layui-colla-icon").remove();n.append('<i class="layui-icon layui-colla-icon">'+(f?"&#xe602;":"&#xe61a;")+"<\/i>");n.off("click",i.collapse).on("click",i.collapse)})})}};return e[n]?e[n]():layui.each(e,function(n,t){t()})};r.prototype.render=r.prototype.init;v=new r;c=t(document);v.render();b=".layui-tab-title li";c.on("click",b,i.tabClick);c.on("click",i.hideTabMore);t(window).on("resize",i.tabAuto);n(f,v)});