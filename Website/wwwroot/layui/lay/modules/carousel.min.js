/**
 @Name：layui.carousel 轮播模块
 @Author：贤心
 @License：MIT
    
 */
layui.define("jquery",function(n){"use strict";var i=layui.$,v=layui.hint(),y=layui.device(),f={config:{},set:function(n){var t=this;return t.config=i.extend({},t.config,n),t},on:function(n,t){return layui.onevent.call(this,e,n,t)}},e="carousel",r="layui-this",a=">*[carousel-item]>*",o="layui-carousel-left",s="layui-carousel-right",c="layui-carousel-prev",l="layui-carousel-next",u="layui-carousel-arrow",h="layui-carousel-ind",t=function(n){var t=this;t.config=i.extend({},t.config,f.config,n);t.render()};t.prototype.config={width:"600px",height:"280px",full:!1,arrow:"hover",indicator:"inside",autoplay:!0,interval:3e3,anim:"",trigger:"click",index:0};t.prototype.render=function(){var t=this,n=t.config;(n.elem=i(n.elem),n.elem[0])&&((t.elemItem=n.elem.find(a),n.index<0&&(n.index=0),n.index>=t.elemItem.length&&(n.index=t.elemItem.length-1),n.interval<800&&(n.interval=800),n.full?n.elem.css({position:"fixed",width:"100%",height:"100%",zIndex:9999}):n.elem.css({width:n.width,height:n.height}),n.elem.attr("lay-anim",n.anim),t.elemItem.eq(n.index).addClass(r),t.elemItem.length<=1)||(t.indicator(),t.arrow(),t.autoplay(),t.events()))};t.prototype.reload=function(n){var t=this;clearInterval(t.timer);t.config=i.extend({},t.config,n);t.render()};t.prototype.prevIndex=function(){var t=this,i=t.config,n=i.index-1;return n<0&&(n=t.elemItem.length-1),n};t.prototype.nextIndex=function(){var t=this,i=t.config,n=i.index+1;return n>=t.elemItem.length&&(n=0),n};t.prototype.addIndex=function(n){var i=this,t=i.config;n=n||1;t.index=t.index+n;t.index>=i.elemItem.length&&(t.index=0)};t.prototype.subIndex=function(n){var i=this,t=i.config;n=n||1;t.index=t.index-n;t.index<0&&(t.index=i.elemItem.length-1)};t.prototype.autoplay=function(){var n=this,t=n.config;t.autoplay&&(n.timer=setInterval(function(){n.slide()},t.interval))};t.prototype.arrow=function(){var t=this,n=t.config,r=i(['<button class="layui-icon '+u+'" lay-type="sub">'+(n.anim==="updown"?"&#xe619;":"&#xe603;")+"<\/button>",'<button class="layui-icon '+u+'" lay-type="add">'+(n.anim==="updown"?"&#xe61a;":"&#xe602;")+"<\/button>"].join(""));n.elem.attr("lay-arrow",n.arrow);n.elem.find("."+u)[0]&&n.elem.find("."+u).remove();n.elem.append(r);r.on("click",function(){var n=i(this),r=n.attr("lay-type");t.slide(r)})};t.prototype.indicator=function(){var t=this,n=t.config,r=t.elemInd=i(['<div class="'+h+'"><ul>',function(){var i=[];return layui.each(t.elemItem,function(t){i.push("<li"+(n.index===t?' class="layui-this"':"")+"><\/li>")}),i.join("")}(),"<\/ul><\/div>"].join(""));n.elem.attr("lay-indicator",n.indicator);n.elem.find("."+h)[0]&&n.elem.find("."+h).remove();n.elem.append(r);n.anim==="updown"&&r.css("margin-top",-(r.height()/2));r.find("li").on(n.trigger==="hover"?"mouseover":n.trigger,function(){var u=i(this),r=u.index();r>n.index?t.slide("add",r-n.index):r<n.index&&t.slide("sub",n.index-r)})};t.prototype.slide=function(n,t){var f=this,u=f.elemItem,i=f.config,h=i.index,a=i.elem.attr("lay-filter");f.haveSlide||(n==="sub"?(f.subIndex(t),u.eq(i.index).addClass(c),setTimeout(function(){u.eq(h).addClass(s);u.eq(i.index).addClass(s)},50)):(f.addIndex(t),u.eq(i.index).addClass(l),setTimeout(function(){u.eq(h).addClass(o);u.eq(i.index).addClass(o)},50)),setTimeout(function(){u.removeClass(r+" "+c+" "+l+" "+o+" "+s);u.eq(i.index).addClass(r);f.haveSlide=!1},300),f.elemInd.find("li").eq(i.index).addClass(r).siblings().removeClass(r),f.haveSlide=!0,layui.event.call(this,e,"change("+a+")",{index:i.index,prevIndex:h,item:u.eq(i.index)}))};t.prototype.events=function(){var n=this,t=n.config;if(!t.elem.data("haveEvents")){t.elem.on("mouseenter",function(){clearInterval(n.timer)}).on("mouseleave",function(){n.autoplay()});t.elem.data("haveEvents",!0)}};f.render=function(n){return new t(n)};n(e,f)});