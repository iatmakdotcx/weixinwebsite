layui.define(["config","layer","element","form"],function(n){var t=layui.$,u=layui.config,r=layui.element,f={flexible:function(){var n=t(".layui-layout-admin");n.hasClass("admin-nav-mini")?n.removeClass("admin-nav-mini"):n.addClass("admin-nav-mini")},refresh:function(){location.reload()},messages:function(){i.popupRight("admin/components/message")},fullScreen:function(){var f="layui-icon-screen-full",e="layui-icon-screen-restore",o=t(this).find("i"),s=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||!1,r,i,u,n;s?(r=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen,r?r.call(document):window.ActiveXObject&&(n=new ActiveXObject("WScript.Shell"),n&&n.SendKeys("{F11}")),o.addClass(f).removeClass(e)):(i=document.documentElement,u=i.requestFullscreen||i.webkitRequestFullscreen||i.mozRequestFullScreen||i.msRequestFullscreen,u?u.call(i):window.ActiveXObject&&(n=new ActiveXObject("WScript.Shell"),n&&n.SendKeys("{F11}")),o.addClass(e).removeClass(f))},profile:function(){},chgpwd:function(){i.popupRight("admin/components/chgpassword")},logout:function(){location.href="admin/login?logout=1"},theme:function(){i.popupRight("admin/components/theme")},locale:function(){i.popupRight("admin/components/locale","100px")},avartatPreview:function(){var n=this.tagName=="IMG"?this.src:t(this.getAttribute("data-apu")).val();layui.layer.photos({photos:{title:"查看头像",data:[{src:n}]},shade:.01,closeBtn:1,anim:5})},leftPage:function(){admin.rollPage("left")},rightPage:function(){admin.rollPage()},closeThisTabs:function(){var n=t(".layui-layout-admin .layui-body .layui-tab .layui-tab-title");n.find("li").first().hasClass("layui-this")||(n.find("li.layui-this").find(".layui-tab-close").trigger("click"),t(this).parent().removeClass("layui-show"))},closeOtherTabs:function(){t(".layui-layout-admin .layui-body .layui-tab .layui-tab-title li:gt(0):not(.layui-this)").find(".layui-tab-close").trigger("click");t(this).parent().removeClass("layui-show")},closeAllTabs:function(){t(".layui-layout-admin .layui-body .layui-tab .layui-tab-title li:gt(0)").find(".layui-tab-close").trigger("click");t(this).parent().removeClass("layui-show")},closeDialog:function(){layer.closeAll("page")}},i={init:function(){t("body").on("click","*[idx-event]",function(){var i=t(this).attr("idx-event"),n=f[i];n&&n.call(this,t(this))});(1||!u.pageTabs)&&(t(".layui-body").html(""),t(".open-tab").removeClass("open-tab"));location.hash?i.loadurl(location.hash.substr(1)):i.loadurl("page/home");window.onhashchange=function(){i.loadurl(location.hash.substr(1))}},reload:function(){i.loadurl(location.hash.substr(1))},popupRight:function(n,t){var i={};return i.path=n,i.id="adminPopupR",i.title=!1,i.anim=2,i.isOutAnim=!1,i.closeBtn=!1,i.offset="r",i.shadeClose=!0,i.area=t||"336px",i.skin="layui-layer-adminRight",i.end=function(){layer.closeAll("tips")},popupRightIndex=this.open(i)},open:function(n){var i=n.success;return n.type=1,n.area=n.area?n.area:"450px",n.offset=n.offset?n.offset:"120px",n.resize?n.resize:!1,n.shade?n.shade:.2,n.success=function(r,u){i?i(r,u):"";t(r).children(".layui-layer-content").load(n.path)},layer.open(n)},popupCenter:function(n,i,r,u,f){layer.open({type:1,title:n,shadeClose:!1,shade:.2,skin:"layer-cur-open",maxmin:!1,area:[r,u],zIndex:"1000",success:function(n){t(n).children(".layui-layer-content").load(i)},end:function(){f&&f()}})},bindEvent:function(){t(".layui-side a[lay-href]").click(function(){i.openTabWindow(this.innerText,this.getAttribute("lay-href"),this.innerText)})},loadurl:function(n){n&&(n[0]!="/"&&(n="/admin/"+n),layui.layer.load(2),t.ajax({url:n,type:"get",dataType:"html",data:{v:layui.cache.version},success:function(n){n="<div>"+n+"<\/div>";var r=t(n).find("title"),u=r.text()||(n.match(/\<title\>([\s\S]*)\<\/title>/)||[])[1];r.remove();i.render(n,u);layer.closeAll("loading")},error:function(n){layer.closeAll("loading");n.status===401?location.href="/admin/login":i.render(n.responseText)}}))},render:function(n,i){t(".layui-body").html(n);i&&(document.title=i)},openTabWindow:function(n,i,f){if(layer.load(2),u.pageTabs){if(t(".layui-body ul.layui-tab-title>li[lay-id='"+n+"']").length==0){r.tabAdd("admin-pagetabs",{title:f,content:'<iframe src="'+i+'" frameborder="0" class="layadmin-iframe" id="'+n+'"><\/iframe>',id:n});t("iframe#"+n).on("load",function(){layer.closeAll("loading")})}else layer.closeAll("loading");t(".layui-table-tips-c").trigger("click");r.tabChange("admin-pagetabs",n)}else{var e=t(".layadmin-iframe");if(e.length==0){e=t('<iframe frameborder="0" class="layadmin-iframe"><\/iframe>');t(".layui-body").append(e);e.on("load",function(){layer.closeAll("loading")})}e.attr("src",i)}},closeTab:function(n){r.tabDelete("admin-pagetabs",n)}};n("index",i)});