@model detailScModel;
@{
    ViewData["Title"] = "详情";
}

<div class="bd">
    <div class="weui-flex course_info">
        <a href="/m/36474d03/coach/info/5740387" class="thumb"><img src="@Model.data.avatar"></a>
        <div class="weui-flex__item detail">
            <p class="name">@Model.data.name</p>
            <p class="locate">地点：@Model.data.address</p>
            <p class="coach">老师：@Model.data.teacher</p>
        </div>
        <div></div>
    </div>
    <div class="course_desci">
        <p class="info_title">课程介绍</p>
        <div class="info_detail" style="display: none;">
            @Html.Raw(Model.data.description)
        </div>
    </div>
    <div class="schedule_info" style="display:">
        <p class="schedule_title">选择日期</p>
        <div class="weui-grids">

            @foreach (var item in Model.dayinfo.OrderBy(ii => ii.date))
            {
            <div class="weui-grid-2">
                <div class="aday">
                    <p class="weui-grid__label date">
                        @item.date.ToString("MM月dd日")
                    </p>
                    <hr>
                    <p class="weui-grid__label remain">
                        余 @item.remain 次
                    </p>
                </div>
            </div>
            }
        </div>
        <blockquote class="quote-yellow"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> 预约后不可更改</blockquote>
        <div class="weui-agree">
            <input id="weuiAgree" type="checkbox" class="weui-agree__checkbox">
            <span class="weui-agree__text">
                <label for="weuiAgree">阅读并同意</label>  <a href="/agreement?id=2">《预约协议》</a>
            </span>
        </div>
        <div class="weui-cells weui-cells_form">
            <div class="weui-cell">
                <div class="weui-cell__hd"><label class="weui-label">手机号</label></div>
                <div class="weui-cell__bd">
                    <input class="weui-input" type="tel" placeholder="请输入手机号" value="@User.FindFirst(System.Security.Claims.ClaimTypes.MobilePhone).Value">
                </div>
            </div>
        </div>

    </div>
    <div class="weui-footer_fixed-bottom">
        <a href="javascript:;" class="weui-btn weui-btn_plain-default weui-btn_mini" id="btn_appointment">预约</a>
        <a class="weui-btn weui-btn_plain-default weui-btn_mini" asp-area="" asp-controller="detail" asp-action="save" id="btn_save" style="display:none">确认</a>
    </div>
</div>

@section Scripts{
    <script>
        $(function () {
            $(".info_title").click(function () {
                $(".info_detail").slideToggle();
            });
            var adys = $(".schedule_info .aday").click(function () {
                adys.removeClass("current");
                $(this).addClass("current");
            });
            $("#btn_appointment").click(function () {
                $(this).hide();
                $(".course_desci").hide();
                $(".schedule_info").show();
                $("#btn_save").show();
            });
            $("#btn_save").click(function () {

                return true;
            });
        });
    </script>
}